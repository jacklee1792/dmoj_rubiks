pub fn fact(n: usize) -> usize {
    match n {
        0 => 1,
        1 => 1,
        2 => 2,
        3 => 6,
        4 => 24,
        5 => 120,
        6 => 720,
        7 => 5040,
        8 => 40320,
        9 => 362880,
        10 => 3628800,
        11 => 39916800,
        12 => 479001600,
        13 => 6227020800,
        14 => 87178291200,
        15 => 1307674368000,
        16 => 20922789888000,
        17 => 355687428096000,
        18 => 6402373705728000,
        19 => 121645100408832000,
        20 => 2432902008176640000,
        _ => panic!("factorial not defined for n > 20"),
    }
}

pub fn binom(n: usize, k: usize) -> usize {
    if k > n { 0 } else { perm(n, k) / fact(k) }
}

pub const PERM: [[usize; 13]; 13] = [
    [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 2, 2, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 3, 6, 6, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 4, 12, 24, 24, 0, 0, 0, 0, 0, 0, 0, 0],
    [1, 5, 20, 60, 120, 120, 0, 0, 0, 0, 0, 0, 0],
    [1, 6, 30, 120, 360, 720, 720, 0, 0, 0, 0, 0, 0],
    [1, 7, 42, 210, 840, 2520, 5040, 5040, 0, 0, 0, 0, 0],
    [1, 8, 56, 336, 1680, 6720, 20160, 40320, 40320, 0, 0, 0, 0],
    [1, 9, 72, 504, 3024, 15120, 60480, 181440, 362880, 362880, 0, 0, 0],
    [1, 10, 90, 720, 5040, 30240, 151200, 604800, 1814400, 3628800, 3628800, 0, 0],
    [1, 11, 110, 990, 7920, 55440, 332640, 1663200, 6652800, 19958400, 39916800, 39916800, 0],
    [1, 12, 132, 1320, 11880, 95040, 665280, 3991680, 19958400, 79833600, 239500800, 479001600, 479001600],
];

#[inline]
pub fn perm(n: usize, k: usize) -> usize {
    PERM[n][k]
}
